## Модель данных в ZK
### Общая модель
* /metadata - структура таблицы
* /columns - структура таблицы
* /log - лог событий
* /blocks - список последних N блоков с чексуммами для проверки дедупликации
* /block_numbers - нода с увеличивающимся id для блоков, которые втсавляем
* /nonincrement_block_numbers
* /leader_election - нода для выборов лидера
* /temp
* /replicas - список реплик для текущей таблицы
* /mutations - отображение записей о мутациях

### /log
Содержит информацию о событях(вставки, мерджи и т.п.). Последовательные записи.
Ноды имеют вид /log-xxxxx;
В информации содержится:
The replicated tables have a common log (/log/log-...).
  * - normal data insertion (GET),
  * - merge (MERGE),
  * - delete the partition (DROP).

### /replicas/<name_replica>/
* /host - хост создателя реплики
* /log_pointer - указатель на запись в логе, включително которо
* /queue - локальнвая очередь здач каждц реплики, сюда они попадают из общего лога
* /parts - информация о кусках, которые есть на реплике. Используется, например, чтобы найти реплику с которой скачать данные о куске. 
* /flags
* /is_lost - флаг, который показывает, удалены ли нужные запими из лога для этой реплики
* /is_active - существует ли сейчас связь с зукипером
* /columns

### /leader_election
Лидеры выбора по алгоритму https://zookeeper.apache.org/doc/current/recipes.html
Нас эта нода не интересует.

### /quorum
* /last_part - Последние номера блоков, которые записались с кворумом. Номера блоков монотонно возрастают (в пределах партиции, но мы говорим, что в спеке работаем только с одной партицией)
* /failed_parts - номера кусков, которые [зафейлелись](https://github.com/yandex/ClickHouse/blob/e141788f028cd8ed388498afef3249f572554746/dbms/src/Storages/StorageReplicatedMergeTree.cpp#L1308) на кворуме
* /status - информация о текущем кворуме
